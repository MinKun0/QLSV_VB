CREATE DATABASE QLSinhVien;
USE QLSinhVien;
GO
CREATE TABLE LOP (
    MaLop CHAR(10) PRIMARY KEY,
    TenLop NVARCHAR(50) NOT NULL,
    Khoa NVARCHAR(50) NOT NULL
);

CREATE TABLE SINHVIEN (
    MaSV CHAR(10) PRIMARY KEY,
    HoTen NVARCHAR(100) NOT NULL,
    NgaySinh DATE NOT NULL,
    GioiTinh NVARCHAR(10) CHECK (GioiTinh IN (N'Nam', N'Ná»¯')),
    DiaChi NVARCHAR(200),
    MaLop CHAR(10),
    CONSTRAINT FK_SV_LOP FOREIGN KEY (MaLop) REFERENCES LOP(MaLop)
);

CREATE TABLE MONHOC (
    MaMH CHAR(10) PRIMARY KEY,
    TenMH NVARCHAR(100) NOT NULL,
    SoTinChi INT CHECK (SoTinChi > 0)
);

CREATE TABLE DIEM (
    MaSV CHAR(10),
    MaMH CHAR(10),
    DiemThi FLOAT CHECK (DiemThi BETWEEN 0 AND 10),
    DiemTongKet FLOAT CHECK (DiemTongKet BETWEEN 0 AND 10),
    PRIMARY KEY (MaSV, MaMH),
    CONSTRAINT FK_DIEM_SV FOREIGN KEY (MaSV) REFERENCES SINHVIEN(MaSV),
    CONSTRAINT FK_DIEM_MH FOREIGN KEY (MaMH) REFERENCES MONHOC(MaMH)
);

CREATE TABLE Users (
    UserName NVARCHAR(50),
    Password NVARCHAR(50)
);


	